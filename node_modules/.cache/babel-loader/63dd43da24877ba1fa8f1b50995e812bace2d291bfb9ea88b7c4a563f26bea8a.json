{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import{Link,useNavigate}from'react-router-dom';import'./Header.css';import logo from'../../assets/nysoh-logo.png';import emitter from'../EventEmitter';import userIcon from'../../assets/person-icon.svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{isLoggedIn,setIsLoggedIn}=_ref;const navigate=useNavigate();const[userId,setUserId]=useState('User');const menuRef=useRef();const[isOpen,setIsOpen]=useState(false);const handleSignOut=()=>{setIsLoggedIn(false);// Optionally redirect to home or signin page\nsetUserId(null);navigate('/');setIsOpen(null);};useEffect(()=>{const handleClickOutside=e=>{if(menuRef.current&&!menuRef.current.contains(e.target)){setIsOpen(false);}};document.addEventListener('mousedown',handleClickOutside);const handler=msg=>setUserId(msg);emitter.on('login',handler);return()=>emitter.off('login',handler);},[]);return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-button-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-logo\",onClick:handleSignOut,children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",style:{width:'250px',height:'auto'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-button d-flex\",children:isLoggedIn?/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:'center',display:'flex'},children:[/*#__PURE__*/_jsx(\"img\",{src:userIcon,alt:\"Logo\",style:{width:'30px',height:'auto'}}),/*#__PURE__*/_jsx(\"span\",{children:userId}),/*#__PURE__*/_jsxs(\"div\",{ref:menuRef,style:{position:'relative',display:'inline-block'},children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setIsOpen(prev=>!prev),style:{fontSize:'18px',cursor:'pointer'},children:\"\\u25BC\"}),isOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'30px',right:0,background:'white',border:'1px solid #ccc',boxShadow:'0 2px 8px rgba(0,0,0,0.15)',padding:'8px 12px',borderRadius:'4px',zIndex:1000},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,style:{background:'none',border:'none',cursor:'pointer'},children:\"Logout\"})})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"blue-button\",children:\"Login\"})})})]}),isLoggedIn?/*#__PURE__*/_jsx(\"div\",{className:\"blue-header\",children:/*#__PURE__*/_jsx(Link,{to:\"/application\",children:/*#__PURE__*/_jsx(\"div\",{style:{color:'white'},children:\"Apply\"})})}):null]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","useRef","Link","useNavigate","logo","emitter","userIcon","jsx","_jsx","jsxs","_jsxs","Header","_ref","isLoggedIn","setIsLoggedIn","navigate","userId","setUserId","menuRef","isOpen","setIsOpen","handleSignOut","handleClickOutside","e","current","contains","target","document","addEventListener","handler","msg","on","off","className","children","onClick","src","alt","style","width","height","alignItems","display","ref","position","prev","fontSize","cursor","top","right","background","border","boxShadow","padding","borderRadius","zIndex","to","color"],"sources":["D:/projects/cp/customer-portal/src/components/Header/Header.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport './Header.css';\r\nimport logo from '../../assets/nysoh-logo.png';\r\nimport emitter from '../EventEmitter';\r\nimport userIcon from '../../assets/person-icon.svg';\r\n\r\nconst Header = ({ isLoggedIn, setIsLoggedIn }) => {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [userId, setUserId] = useState('User');\r\n\r\n  const menuRef = useRef();\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleSignOut = () => {\r\n    setIsLoggedIn(false);\r\n    // Optionally redirect to home or signin page\r\n    setUserId(null);\r\n    navigate('/');\r\n    setIsOpen(null)\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    const handler = msg => setUserId(msg);\r\n    emitter.on('login', handler);\r\n\r\n    return () => emitter.off('login', handler);\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"login-button-div\">\r\n        <div className=\"header-logo\" onClick={handleSignOut}>\r\n          <img src={logo} alt=\"Logo\" style={{ width: '250px', height: 'auto' }} />\r\n        </div>\r\n        <div className=\"login-button d-flex\">\r\n          {isLoggedIn ?\r\n            <div style={{\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n            }}>\r\n              <img src={userIcon} alt=\"Logo\" style={{ width: '30px', height: 'auto' }} />\r\n              <span>{userId}</span>\r\n              <div ref={menuRef} style={{ position: 'relative', display: 'inline-block' }}>\r\n                {/* Down Arrow Icon */}\r\n                <div onClick={() => setIsOpen(prev => !prev)} style={{ fontSize: '18px', cursor: 'pointer' }}>\r\n                  â–¼\r\n                </div>\r\n\r\n                {/* Dropdown Popup */}\r\n                {isOpen && (\r\n                  <div style={{\r\n                    position: 'absolute',\r\n                    top: '30px',\r\n                    right: 0,\r\n                    background: 'white',\r\n                    border: '1px solid #ccc',\r\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.15)',\r\n                    padding: '8px 12px',\r\n                    borderRadius: '4px',\r\n                    zIndex: 1000\r\n                  }}>\r\n                    <button onClick={handleSignOut} style={{ background: 'none', border: 'none', cursor: 'pointer' }}>\r\n                      Logout\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div> :\r\n            <Link to=\"/login\">\r\n              <button className='blue-button'>Login</button>\r\n            </Link>}\r\n\r\n        </div>\r\n      </div>\r\n      {\r\n        isLoggedIn ?\r\n          <div className='blue-header'>\r\n            <Link to=\"/application\">\r\n              <div style={{color : 'white'}}>\r\n                Apply\r\n              </div>\r\n            </Link>\r\n          </div> : null\r\n      }\r\n\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,cAAc,CACrB,MAAO,CAAAC,IAAI,KAAM,6BAA6B,CAC9C,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAmC,IAAlC,CAAEC,UAAU,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAE3C,KAAM,CAAAG,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,MAAM,CAAC,CAE5C,KAAM,CAAAkB,OAAO,CAAGjB,MAAM,CAAC,CAAC,CAExB,KAAM,CAACkB,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAqB,aAAa,CAAGA,CAAA,GAAM,CAC1BP,aAAa,CAAC,KAAK,CAAC,CACpB;AACAG,SAAS,CAAC,IAAI,CAAC,CACfF,QAAQ,CAAC,GAAG,CAAC,CACbK,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,CAEDrB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuB,kBAAkB,CAAIC,CAAC,EAAK,CAChC,GAAIL,OAAO,CAACM,OAAO,EAAI,CAACN,OAAO,CAACM,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,CAAE,CAC1DN,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CACDO,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,KAAM,CAAAO,OAAO,CAAGC,GAAG,EAAIb,SAAS,CAACa,GAAG,CAAC,CACrCzB,OAAO,CAAC0B,EAAE,CAAC,OAAO,CAAEF,OAAO,CAAC,CAE5B,MAAO,IAAMxB,OAAO,CAAC2B,GAAG,CAAC,OAAO,CAAEH,OAAO,CAAC,CAC5C,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnB,KAAA,WAAQuB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACxBxB,KAAA,QAAKuB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B1B,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEd,aAAc,CAAAa,QAAA,cAClD1B,IAAA,QAAK4B,GAAG,CAAEhC,IAAK,CAACiC,GAAG,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAE,CAAC,CACrE,CAAC,cACNhC,IAAA,QAAKyB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CACjCrB,UAAU,cACTH,KAAA,QAAK4B,KAAK,CAAE,CACVG,UAAU,CAAE,QAAQ,CACpBC,OAAO,CAAE,MACX,CAAE,CAAAR,QAAA,eACA1B,IAAA,QAAK4B,GAAG,CAAE9B,QAAS,CAAC+B,GAAG,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAE,CAAC,cAC3EhC,IAAA,SAAA0B,QAAA,CAAOlB,MAAM,CAAO,CAAC,cACrBN,KAAA,QAAKiC,GAAG,CAAEzB,OAAQ,CAACoB,KAAK,CAAE,CAAEM,QAAQ,CAAE,UAAU,CAAEF,OAAO,CAAE,cAAe,CAAE,CAAAR,QAAA,eAE1E1B,IAAA,QAAK2B,OAAO,CAAEA,CAAA,GAAMf,SAAS,CAACyB,IAAI,EAAI,CAACA,IAAI,CAAE,CAACP,KAAK,CAAE,CAAEQ,QAAQ,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAb,QAAA,CAAC,QAE9F,CAAK,CAAC,CAGLf,MAAM,eACLX,IAAA,QAAK8B,KAAK,CAAE,CACVM,QAAQ,CAAE,UAAU,CACpBI,GAAG,CAAE,MAAM,CACXC,KAAK,CAAE,CAAC,CACRC,UAAU,CAAE,OAAO,CACnBC,MAAM,CAAE,gBAAgB,CACxBC,SAAS,CAAE,4BAA4B,CACvCC,OAAO,CAAE,UAAU,CACnBC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,IACV,CAAE,CAAArB,QAAA,cACA1B,IAAA,WAAQ2B,OAAO,CAAEd,aAAc,CAACiB,KAAK,CAAE,CAAEY,UAAU,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEJ,MAAM,CAAE,SAAU,CAAE,CAAAb,QAAA,CAAC,QAElG,CAAQ,CAAC,CACN,CACN,EACE,CAAC,EACH,CAAC,cACN1B,IAAA,CAACN,IAAI,EAACsD,EAAE,CAAC,QAAQ,CAAAtB,QAAA,cACf1B,IAAA,WAAQyB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC1C,CAAC,CAEN,CAAC,EACH,CAAC,CAEJrB,UAAU,cACRL,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B1B,IAAA,CAACN,IAAI,EAACsD,EAAE,CAAC,cAAc,CAAAtB,QAAA,cACrB1B,IAAA,QAAK8B,KAAK,CAAE,CAACmB,KAAK,CAAG,OAAO,CAAE,CAAAvB,QAAA,CAAC,OAE/B,CAAK,CAAC,CACF,CAAC,CACJ,CAAC,CAAG,IAAI,EAGX,CAAC,CAEb,CAAC,CAED,cAAe,CAAAvB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}